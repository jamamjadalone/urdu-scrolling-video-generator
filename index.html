<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="Professional Urdu Scrolling Text Video Generator - Create monetization-friendly YouTube videos with custom Urdu fonts, animations, and effects. Free online tool for content creators. Q&A and Story modes available.">
    <meta name="keywords" content="Urdu text generator, Urdu scrolling video, YouTube video generator, Urdu content creator, Nastaliq font, text animation, video creation tool, free video generator, monetization friendly videos">
    <meta name="author" content="Urdu Scrolling Text Video Generator">
    <meta name="language" content="en">
    <meta http-equiv="content-language" content="en">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1, nositelinkssearchbox">
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <!-- Open Graph Meta Tags (Social Media Sharing) -->
    <meta property="og:title" content="Urdu Scrolling Text Video Generator - Professional YouTube Video Creator">
    <meta property="og:description" content="Create stunning Urdu scrolling text videos optimized for YouTube monetization. Free online tool with 4 professional fonts, custom animations, and instant previews.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://jamamjadalone.github.io/urdu-scrolling-video-generator/assets/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Urdu Scrolling Text Video Generator Preview">
    <meta property="og:url" content="https://jamamjadalone.github.io/urdu-scrolling-video-generator/">
    <meta property="og:site_name" content="Urdu Scrolling Text Video Generator">
    <meta property="og:locale" content="en_US">
    <meta property="og:locale:alternate" content="ur_PK">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Urdu Scrolling Text Video Generator">
    <meta name="twitter:description" content="Create professional Urdu scrolling text videos with custom fonts and animations. Free YouTube video generation tool.">
    <meta name="twitter:image" content="https://jamamjadalone.github.io/urdu-scrolling-video-generator/assets/og-image.png">
    <meta name="twitter:creator" content="@jamamjadalone">
    <meta name="twitter:site" content="@jamamjadalone">
    <meta name="theme-color" content="#007bff">
    <link rel="canonical" href="https://jamamjadalone.github.io/urdu-scrolling-video-generator/">
    <link rel="alternate" hreflang="en" href="https://jamamjadalone.github.io/urdu-scrolling-video-generator/">
    <link rel="alternate" hreflang="ur" href="https://jamamjadalone.github.io/urdu-scrolling-video-generator/">
    <link rel="alternate" hreflang="x-default" href="https://jamamjadalone.github.io/urdu-scrolling-video-generator/">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='75' font-size='75' font-weight='bold' fill='%23667eea'>üé¨</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'><text y='135' font-size='135' font-weight='bold' fill='%23667eea'>üé¨</text></svg>">
    <link rel="manifest" href="data:application/manifest+json,{&quot;name&quot;:&quot;Urdu Scrolling Text Video Generator&quot;,&quot;short_name&quot;:&quot;Urdu Video Gen&quot;,&quot;description&quot;:&quot;Professional Urdu scrolling text video generator&quot;,&quot;start_url&quot;:&quot;/urdu-scrolling-video-generator/&quot;,&quot;scope&quot;:&quot;/urdu-scrolling-video-generator/&quot;,&quot;display&quot;:&quot;standalone&quot;,&quot;background_color&quot;:&quot;#ffffff&quot;,&quot;theme_color&quot;:&quot;#667eea&quot;}">
    <title>Advanced Urdu Scrolling Text Video Generator | Free Online Tool</title>
    
    <!-- Structured Data (JSON-LD Schema) for SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Urdu Scrolling Text Video Generator",
      "description": "Professional tool for creating monetization-friendly Urdu scrolling text videos",
      "url": "https://jamamjadalone.github.io/urdu-scrolling-video-generator/",
      "applicationCategory": "DesignApplication",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "author": {
        "@type": "Person",
        "name": "Urdu Video Generator Team"
      },
      "creator": {
        "@type": "Person",
        "name": "jamamjadalone"
      },
      "datePublished": "2025-11-25",
      "version": "2.0"
    }
    </script>
    
    <!-- Organization Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Urdu Scrolling Text Video Generator",
      "description": "Create professional Urdu scrolling text videos optimized for YouTube monetization",
      "url": "https://jamamjadalone.github.io/urdu-scrolling-video-generator/",
      "operatingSystem": "Web Browser",
      "applicationCategory": "DesignApplication",
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "100"
      },
      "offers": {
        "@type": "Offer",
        "price": "0"
      }
    }
    </script>
    
    <style>
        /* Font Face Declarations for Urdu Fonts */
        @font-face {
            font-family: 'Jameel Noori Nastaliq';
            src: url('./fonts/JameelNoori.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: 'Nafees Naskh';
            src: url('./fonts/Nafees.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: 'Alvi Nastaliq';
            src: url('./fonts/Alvi.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: 'Mehr Nastaliq';
            src: url('./fonts/Mehr.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        header {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            text-align: center;
        }
        h1 { color: #667eea; font-size: 32px; margin-bottom: 10px; }
        .tagline { color: #666; font-size: 16px; }
        main {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        .panel {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        .panel h2 { color: #667eea; margin-bottom: 20px; font-size: 22px; border-bottom: 3px solid #667eea; padding-bottom: 10px; }
        .form-group { margin-bottom: 20px; }
        label { display: block; font-weight: 600; margin-bottom: 8px; color: #333; }
        input[type="text"], input[type="color"], input[type="range"], input[type="url"], select, textarea, input[type="number"] {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
            transition: border-color 0.3s;
        }
        input[type="text"]:focus, input[type="color"]:focus, input[type="range"]:focus, input[type="url"]:focus, select:focus, textarea:focus, input[type="number"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 8px rgba(102, 126, 234, 0.3);
        }
        textarea { resize: vertical; min-height: 100px; }
        .tabs { display: flex; gap: 10px; margin-bottom: 20px; }
        .tab-btn {
            flex: 1;
            padding: 10px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        .tab-btn.active { background: #667eea; color: white; border-color: #667eea; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        #display-area {
            background: #f0f0f0;
            border-radius: 12px;
            position: relative;
            overflow: hidden;
            aspect-ratio: 16 / 9;
            resize: both;
            border: 3px solid #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
        }
        .display-content {
            width: 100%;
            height: 100%;
            position: relative;
            overflow: hidden;
        }
        #scrollingText {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            width: 100%;
            padding: 20px;
            text-align: center;
        }
        .buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }
        button {
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-primary {
            background: #667eea;
            color: white;
        }
        .btn-primary:hover { background: #764ba2; transform: translateY(-2px); }
        .btn-secondary {
            background: #f8f9ff;
            color: #667eea;
            border: 2px solid #667eea;
        }
        .btn-secondary:hover { background: #667eea; color: white; }
        .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(102, 126, 234, 0.9);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            z-index: 100;
            transition: all 0.3s;
            display: none;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
        }
        .play-button:hover { background: #764ba2; transform: translate(-50%, -50%) scale(1.05); }
        .play-button.show { display: block; }
        .range-display {
            text-align: center;
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
        .section-title {
            font-size: 16px;
            font-weight: 600;
            color: #667eea;
            margin-top: 15px;
            margin-bottom: 10px;
            padding-top: 15px;
            border-top: 2px solid #eee;
        }
        .flex-container { display: flex; gap: 15px; flex-wrap: wrap; }
        .flex-item { flex: 1; min-width: 150px; }
        .info-box {
            background: #f8f9ff;
            border-left: 4px solid #667eea;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
            font-size: 13px;
            line-height: 1.6;
        }
        .auto-format-controls {
            display: flex;
            gap: 15px;
            align-items: center;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        .auto-format-controls label {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 0;
            white-space: nowrap;
        }
        .auto-format-controls input[type="number"] {
            width: 70px;
        }
        @keyframes borderGlow {
            0%, 100% { box-shadow: 0 0 20px rgba(102, 126, 234, 0.5); }
            50% { box-shadow: 0 0 30px rgba(118, 75, 162, 0.8); }
        }
        .border-animated { animation: borderGlow 0.6s infinite; }
        @media (max-width: 1024px) {
            main { grid-template-columns: 1fr; }
        }
        footer {
            text-align: center;
            color: white;
            padding: 20px;
            margin-top: 30px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header itemscope itemtype="https://schema.org/WPHeader">
            <h1 itemprop="headline">üé¨ Urdu Scrolling Text Video Generator</h1>
            <p class="tagline" itemprop="description">Professional tool for creating monetization-friendly YouTube videos with custom Urdu text animations</p>
        </header>

        <main>
            <article class="panel" itemscope itemtype="https://schema.org/WebApplication">
                <h2>üìù Content</h2>

                <div class="tabs">
                    <button class="tab-btn active" onclick="switchTab('qa-tab', this)">Q&A Mode</button>
                    <button class="tab-btn" onclick="switchTab('story-tab', this)">Story Mode</button>
                </div>

                <div id="qa-tab" class="tab-content active">
                    <div class="form-group">
                        <label for="questionText">Question (Q):</label>
                        <textarea id="questionText" placeholder="Enter your question in Urdu..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="answerText">Answer (A):</label>
                        <textarea id="answerText" placeholder="Enter your answer in Urdu..."></textarea>
                    </div>
                </div>

                <div id="story-tab" class="tab-content">
                    <div class="form-group">
                        <label for="storyText">Story Text:</label>
                        <textarea id="storyText" placeholder="Enter your story in Urdu..."></textarea>
                    </div>
                </div>

                <div class="section-title">üî§ Text Auto-Formatting</div>
                <div class="form-group">
                    <div class="auto-format-controls">
                        <label>
                            <input type="checkbox" id="autoFormat" checked> Auto-format paragraphs
                        </label>
                        <label>
                            Max words per line: 
                            <input type="number" id="maxWordsPerLine" min="3" max="20" value="8">
                        </label>
                    </div>
                </div>
                <div class="flex-container">
                    <div class="flex-item">
                        <label for="qColor">Question Color:</label>
                        <input type="color" id="qColor" value="#ffff00">
                    </div>
                    <div class="flex-item">
                        <label for="aColor">Answer Color:</label>
                        <input type="color" id="aColor" value="#00ff00">
                    </div>
                    <div class="flex-item">
                        <label for="storyColor">Story Color:</label>
                        <input type="color" id="storyColor" value="#ffffff">
                    </div>
                </div>

                <div class="section-title">‚úèÔ∏è 2. Text Styling</div>
                <div class="form-group">
                    <label for="fontSelect">Font Family:</label>
                    <select id="fontSelect">
                        <option value="Jameel Noori Nastaliq">Jameel Noori Nastaliq</option>
                        <option value="Nafees Naskh">Nafees Naskh</option>
                        <option value="Alvi Nastaliq">Alvi Nastaliq</option>
                        <option value="Mehr Nastaliq">Mehr Nastaliq</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="fontSize">Font Size:</label>
                    <input type="range" id="fontSize" min="20" max="80" step="2" value="48">
                    <div class="range-display">Current: <span id="fontSizeValue">48</span>px</div>
                </div>

                <div class="section-title">üìè 3. Text Spacing</div>
                <div class="flex-container">
                    <div class="flex-item">
                        <label for="lineHeight">Line Height:</label>
                        <input type="range" id="lineHeight" min="1" max="3" step="0.1" value="1.8">
                        <div class="range-display">Current: <span id="lineHeightValue">1.8</span></div>
                    </div>
                    <div class="flex-item">
                        <label for="letterSpacing">Letter Spacing:</label>
                        <input type="range" id="letterSpacing" min="0" max="10" step="0.5" value="0">
                        <div class="range-display">Current: <span id="letterSpacingValue">0</span>px</div>
                    </div>
                    <div class="flex-item">
                        <label for="textMargin">Text Margin:</label>
                        <input type="range" id="textMargin" min="0" max="50" step="5" value="10">
                        <div class="range-display">Current: <span id="textMarginValue">10</span>px</div>
                    </div>
                </div>

                <div class="section-title">üé® 4. Background</div>
                <div class="form-group">
                    <label for="bgColor">Background Color:</label>
                    <input type="color" id="bgColor" value="#000000">
                </div>
                <div class="form-group">
                    <label for="bgImage">Background Image URL:</label>
                    <input type="url" id="bgImage" placeholder="https://example.com/image.jpg">
                </div>

                <div class="section-title">‚ö° 5. Animation</div>
                <div class="form-group">
                    <label for="speedInput">Scroll Speed (15-100):</label>
                    <input type="range" id="speedInput" min="15" max="100" step="1" value="100">
                    <div class="range-display">Current: <span id="speedValue">100</span></div>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="borderToggle" checked> Enable Border Animation
                    </label>
                </div>

                <div class="buttons">
                    <button class="btn-primary" onclick="setupPreview()">Setup Preview</button>
                    <button class="btn-secondary" onclick="stopScroll()">Stop</button>
                </div>

                <div class="info-box">
                    üí° <strong>Workflow:</strong> Enter text ‚Üí Customize ‚Üí Click "Setup Preview" ‚Üí Resize preview ‚Üí Start screen recorder ‚Üí Click PLAY
                </div>
            </article>

            <aside class="panel">
                <h2>üëÅÔ∏è Preview (16:9)</h2>
                <div id="display-area">
                    <div class="display-content">
                        <div id="scrollingText"></div>
                        <button class="play-button" onclick="startScroll()">‚ñ∂ PLAY</button>
                    </div>
                </div>
                <div class="info-box" style="margin-top: 15px;">
                    üìå Drag the corner to resize | Click PLAY to start animation | Record with your screen recorder
                </div>
            </aside>
        </main>

        <footer itemscope itemtype="https://schema.org/WPFooter">
            <nav aria-label="Footer Navigation">
                <p>üöÄ <strong itemprop="name">Urdu Scrolling Text Video Generator v2.0</strong> | <span itemprop="dateModified">Updated November 25, 2025</span></p>
                <p itemprop="description">Perfect for YouTube monetization ‚Ä¢ Free ‚Ä¢ No uploads ‚Ä¢ All content processed locally</p>
                <p style="margin-top: 15px; font-size: 12px; color: #ccc;">
                    üîí <strong>Privacy First:</strong> No data collection ‚Ä¢ No uploads ‚Ä¢ No tracking ‚Ä¢ 100% client-side processing
                </p>
                <p style="margin-top: 10px; font-size: 12px; color: #ccc;">
                    ¬© 2025 Urdu Scrolling Text Video Generator. All rights reserved. | 
                    <a href="https://github.com/jamamjadalone/urdu-scrolling-video-generator" style="color: #667eea; text-decoration: none;">GitHub Repository</a>
                </p>
            </nav>
        </footer>
    </div>

    <script>
        const scrollingText = document.getElementById('scrollingText');
        const displayArea = document.getElementById('display-area');
        const playButton = document.querySelector('.play-button');
        let currentTab = 'qa-tab';
        let isPlaying = false;

        // Initialize event listeners
        document.getElementById('fontSize').addEventListener('input', (e) => {
            document.getElementById('fontSizeValue').textContent = e.target.value;
            updatePreview();
        });

        const speedInput = document.getElementById('speedInput');
        const speedValueEl = document.getElementById('speedValue');
        speedInput.addEventListener('input', (e) => {
            speedValueEl.textContent = e.target.value;
        });

        // Initialize displayed speed from the slider on load
        speedValueEl.textContent = speedInput.value;

        document.getElementById('lineHeight').addEventListener('input', (e) => {
            document.getElementById('lineHeightValue').textContent = e.target.value;
            applyTextSpacing();
        });

        document.getElementById('letterSpacing').addEventListener('input', (e) => {
            document.getElementById('letterSpacingValue').textContent = e.target.value;
            applyTextSpacing();
        });

        document.getElementById('textMargin').addEventListener('input', (e) => {
            document.getElementById('textMarginValue').textContent = e.target.value;
            applyTextSpacing();
        });

        document.getElementById('qColor').addEventListener('change', updatePreview);
        document.getElementById('aColor').addEventListener('change', updatePreview);
        document.getElementById('storyColor').addEventListener('change', updatePreview);
        document.getElementById('fontSelect').addEventListener('change', updatePreview);
        document.getElementById('bgColor').addEventListener('change', updatePreview);
        document.getElementById('bgImage').addEventListener('change', updatePreview);
        document.getElementById('borderToggle').addEventListener('change', updatePreview);
        document.getElementById('autoFormat').addEventListener('change', updatePreview);
        document.getElementById('maxWordsPerLine').addEventListener('change', updatePreview);

        function switchTab(tab, btn) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(tab).classList.add('active');
            btn.classList.add('active');
            currentTab = tab;
        }

        function setupPreview() {
            const qaTab = currentTab === 'qa-tab';
            const questionText = document.getElementById('questionText').value.trim();
            const answerText = document.getElementById('answerText').value.trim();
            const storyText = document.getElementById('storyText').value.trim();

            if ((qaTab && (!questionText || !answerText)) || (!qaTab && !storyText)) {
                alert('Please enter text content first!');
                return;
            }

            updatePreview();
            playButton.classList.add('show');
            alert('Preview is ready! Resize if needed, then click PLAY to record.');
        }

        function updatePreview() {
            const qaTab = currentTab === 'qa-tab';
            const font = document.getElementById('fontSelect').value;
            const fontSize = document.getElementById('fontSize').value;
            const qColor = document.getElementById('qColor').value;
            const aColor = document.getElementById('aColor').value;
            const storyColor = document.getElementById('storyColor').value;
            const bgColor = document.getElementById('bgColor').value;
            const bgImage = document.getElementById('bgImage').value;
            const autoFormat = document.getElementById('autoFormat').checked;
            const maxWordsPerLine = parseInt(document.getElementById('maxWordsPerLine').value);

            if (qaTab) {
                const questionText = document.getElementById('questionText').value;
                const answerText = document.getElementById('answerText').value;
                scrollingText.innerHTML = formatScriptForScroll(
                    questionText, answerText, qColor, aColor, fontSize, font, autoFormat, maxWordsPerLine
                );
            } else {
                const storyText = document.getElementById('storyText').value;
                scrollingText.innerHTML = formatStoryForScroll(
                    storyText, storyColor, fontSize, font, autoFormat, maxWordsPerLine
                );
            }

            scrollingText.style.fontFamily = font;
            scrollingText.style.fontSize = fontSize + 'px';
            displayArea.style.backgroundColor = bgColor;
            displayArea.style.backgroundImage = bgImage ? `url(${bgImage})` : 'none';
            displayArea.style.backgroundSize = 'cover';
            displayArea.style.backgroundPosition = 'center';

            if (document.getElementById('borderToggle').checked) {
                displayArea.classList.add('border-animated');
            } else {
                displayArea.classList.remove('border-animated');
            }

            applyTextSpacing();
            stopScroll(); // Reset scroll position when updating preview
        }

        function formatScriptForScroll(question, answer, qColor, aColor, fontSize, font, autoFormat, maxWordsPerLine) {
            if (autoFormat) {
                return `
                    <div class="question-block" style="color: ${qColor};">
                        ${autoFormatText(question, maxWordsPerLine)}
                    </div>
                    <div class="answer-block" style="color: ${aColor}; margin-top: 40px;">
                        ${autoFormatText(answer, maxWordsPerLine)}
                    </div>
                `;
            } else {
                return `
                    <p style="color: ${qColor}; font-size: ${fontSize}px;">${question}</p>
                    <p style="color: ${aColor}; font-size: ${fontSize}px; margin-top: 40px;">${answer}</p>
                `;
            }
        }

        function formatStoryForScroll(story, storyColor, fontSize, font, autoFormat, maxWordsPerLine) {
            if (autoFormat) {
                return `<div style="color: ${storyColor};">${autoFormatText(story, maxWordsPerLine)}</div>`;
            } else {
                return `<p style="color: ${storyColor}; font-size: ${fontSize}px;">${story}</p>`;
            }
        }

        function autoFormatText(text, maxWordsPerLine = 8) {
            if (!text) return '';
            
            // Split text into sentences using common Urdu/English punctuation
            const sentences = text.split(/([.!?€îÿü]+)/).reduce((acc, curr, i, arr) => {
                if (i % 2 === 0) {
                    acc.push(curr + (arr[i + 1] || ''));
                }
                return acc;
            }, []).filter(s => s.trim());
            
            let formattedHTML = '';
            
            sentences.forEach(sentence => {
                const words = sentence.trim().split(/\s+/);
                let currentLine = [];
                let paragraphHTML = '';
                
                words.forEach(word => {
                    currentLine.push(word);
                    
                    // Start new line when max words reached or if it's a long sentence
                    if (currentLine.length >= maxWordsPerLine || 
                        (word.includes('ÿü') || word.includes('€î') || word.includes('.') || word.includes('!') || word.includes('?'))) {
                        
                        paragraphHTML += `<div class="text-line">${currentLine.join(' ')}</div>`;
                        currentLine = [];
                    }
                });
                
                // Add any remaining words
                if (currentLine.length > 0) {
                    paragraphHTML += `<div class="text-line">${currentLine.join(' ')}</div>`;
                }
                
                formattedHTML += `<div class="text-paragraph">${paragraphHTML}</div>`;
            });
            
            return formattedHTML;
        }

        function applyTextSpacing() {
            const lineHeight = document.getElementById('lineHeight').value;
            const letterSpacing = document.getElementById('letterSpacing').value;
            const textMargin = document.getElementById('textMargin').value;
            
            scrollingText.style.lineHeight = lineHeight;
            scrollingText.style.letterSpacing = letterSpacing + 'px';
            
            // Apply spacing to paragraphs and lines
            const paragraphs = scrollingText.querySelectorAll('.text-paragraph, p');
            paragraphs.forEach(p => {
                p.style.margin = textMargin + 'px 0';
            });
            
            // Apply line spacing
            const lines = scrollingText.querySelectorAll('.text-line');
            lines.forEach(line => {
                line.style.margin = '5px 0';
                line.style.lineHeight = lineHeight;
            });
        }

        function startScroll() {
            if (isPlaying) return;
            isPlaying = true;
            playButton.classList.remove('show');

            // Reset position to bottom
            scrollingText.style.top = '100%';
            scrollingText.style.animation = 'none';
            
            // Force reflow
            scrollingText.offsetHeight;
            
            // Get dimensions
            const containerHeight = displayArea.offsetHeight;
            const textHeight = scrollingText.scrollHeight;
            
            // Calculate animation duration based on total distance and speed
            const totalDistance = containerHeight + textHeight;
            const speedFactor = Number(speedInput.value);
            const baseDuration = 30; // Base duration for normal speed
            const adjustedDuration = baseDuration * (100 / speedFactor) * (totalDistance / 1000);
            
            // Create dynamic keyframes
            const style = document.createElement('style');
            style.id = 'dynamicScrollAnimation';
            style.textContent = `
                @keyframes completeScroll {
                    0% { 
                        top: 100%; 
                    }
                    100% { 
                        top: -${textHeight}px; 
                    }
                }
            `;
            
            // Remove existing dynamic animation
            const existingStyle = document.getElementById('dynamicScrollAnimation');
            if (existingStyle) {
                existingStyle.remove();
            }
            
            document.head.appendChild(style);
            
            // Start the animation
            scrollingText.style.animation = `completeScroll ${adjustedDuration}s linear infinite`;
        }

        function stopScroll() {
            scrollingText.style.animation = 'none';
            scrollingText.style.top = '100%';
            isPlaying = false;
            playButton.classList.add('show');
            
            // Remove dynamic animation
            const existingStyle = document.getElementById('dynamicScrollAnimation');
            if (existingStyle) {
                existingStyle.remove();
            }
        }

        // Initialize
        updatePreview();
    </script>
</body>
</html>
